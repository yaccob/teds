<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>TeDS Report</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 1.5rem; }
    h1 { margin-bottom: .2rem; }
    .meta { color: #555; margin-bottom: 1rem; }
    .counts { margin: .5rem 0 1rem; }
    .spec { margin-top: 1.2rem; }
    .refs { margin-left: 1rem; }
  </style>
  </head>
<body>
  <h1>TeDS Report</h1>
  <div class="meta">teds {{ tool.version }} (spec supported: {{ tool.spec_supported }}; recommended: {{ tool.spec_recommended }})</div>
  <div class="counts">Specs: {{ totals.specs }} â€” Cases: {{ totals.success }} success, {{ totals.warning }} warning, {{ totals.error }} error</div>

  {% for item in inputs %}
    <div class="spec">
      <h2>{{ item.path }}</h2>
      <div class="counts">Success: {{ item.counts.success }}, Warning: {{ item.counts.warning }}, Error: {{ item.counts.error }}</div>
      {% if item.doc.tests %}
      <div class="refs">
        <h3>Refs</h3>
        <ul>
          {% for ref, grp in item.doc.tests.items() %}
            <li>
              <strong>{{ ref }}</strong>
              <div>valid: {{ (grp.valid or {})|length }} cases; invalid: {{ (grp.invalid or {})|length }} cases</div>
            </li>
          {% endfor %}
        </ul>
      </div>
      {% endif %}
    </div>
  {% endfor %}
</body>
</html>
