= TeDS: Test-Driven Schema Development Tool
:author: TeDS Project
:email: noreply@example.com
:revnumber: 1.0
:revdate: {docdate}
:backend: revealjs
:revealjsdir: https://cdn.jsdelivr.net/npm/reveal.js@4.3.1
:revealjs_theme: moon
:revealjs_transition: convex
:revealjs_slideNumber: c/t
:revealjs_controls: true
:revealjs_progress: true
:revealjs_hash: true
:revealjs_center: true
:revealjs_touch: true
:revealjs_loop: false
:revealjs_rtl: false
:revealjs_fragments: true
:revealjs_embedded: false
:revealjs_autoSlideStoppable: true
:revealjs_mouseWheel: false
:revealjs_hideAddressBar: true
:revealjs_previewLinks: false
:revealjs_viewDistance: 3
:revealjs_width: 1280
:revealjs_height: 720
:revealjs_margin: 0.1
:source-highlighter: highlightjs
:highlightjs-theme: monokai-sublime
:icons: font
:imagesdir: images
:customcss: presentation-styles.css

++++
<style>
.reveal .slides section .two-columns {
  display: flex;
  gap: 2rem;
  align-items: flex-start;
}

.reveal .slides section .two-columns .column {
  flex: 1;
}

.reveal .slides section .subtitle {
  font-size: 1.2em;
  color: #42affa;
  font-style: italic;
  margin-bottom: 1em;
}

.reveal .slides section .author {
  font-size: 0.8em;
  color: #666;
  margin-top: 2em;
}

.reveal .slides section .contact-info {
  font-size: 0.9em;
  text-align: left;
  margin: 1em 0;
  background: rgba(66, 175, 250, 0.1);
  padding: 1.5em;
  border-radius: 8px;
  border-left: 4px solid #42affa;
}

.reveal .slides section .stretch {
  margin: 0;
  padding: 0;
}

.reveal .slides section h1 {
  color: #2c3e50;
  font-weight: bold;
}

.reveal .slides section h2 {
  color: #42affa;
  border-bottom: 2px solid #42affa;
  padding-bottom: 0.2em;
}

.reveal .slides section h3 {
  color: #34495e;
}

.reveal .slides section code {
  background: rgba(0,0,0,0.8);
  color: #f8f8f2;
  padding: 0.2em 0.4em;
  border-radius: 3px;
}

.reveal .slides section pre code {
  background: rgba(0,0,0,0.9);
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}

.reveal .slides section table {
  border-collapse: collapse;
  margin: 1em auto;
}

.reveal .slides section table th {
  background: #42affa;
  color: white;
  padding: 0.8em;
  border: none;
}

.reveal .slides section table td {
  padding: 0.6em;
  border: 1px solid #ddd;
}

.reveal .slides section table tr:nth-child(even) {
  background: rgba(66, 175, 250, 0.05);
}

.reveal .slides section .fragment.highlight-green.visible {
  color: #27ae60;
  font-weight: bold;
}

.reveal .slides section .fragment.highlight-red.visible {
  color: #e74c3c;
  font-weight: bold;
}

.reveal .slides section blockquote {
  background: rgba(66, 175, 250, 0.1);
  border-left: 4px solid #42affa;
  margin: 1em 0;
  padding: 1em 1.5em;
  font-style: italic;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.reveal .slides section .step {
  opacity: 0.3;
}

.reveal .slides section .step.current-fragment {
  opacity: 1;
}

.center {
  text-align: center;
}

.reveal .progress {
  height: 6px;
  background: rgba(66, 175, 250, 0.3);
}

.reveal .progress span {
  background: #42affa;
}
</style>
++++

// Title slide
== TeDS: Test-Driven Schema Development

[.subtitle]
_Reliable JSON Schema Validation Through Test-Driven Development_

[.author]
Open Source Project +
{revdate}

[.notes]
--
Welcome to this comprehensive presentation about TeDS - Test-Driven Schema Development. Today we'll explore how TeDS transforms JSON Schema validation from a manual, error-prone process into a systematic, test-driven approach that gives you confidence in your API contracts.

This presentation will take approximately 45-60 minutes and covers the motivation behind TeDS, its key features, practical implementation, and how it can benefit your development workflow.
--

// Section 1: Introduction & Problem Statement
== Today's Journey

[.two-columns]
--
[.column]
*Understanding the Challenge*

[%step]
* The Schema Validation Problem
* Current Pain Points
* Cost of Schema Failures

[.column]
*The TeDS Solution*

[%step]
* Test-Driven Approach
* Core Features & Benefits
* Real-World Implementation
--

[.center.fragment]
*🎯 Goal: Transform your schema validation workflow from reactive debugging to proactive confidence*

[.notes]
--
Our journey today will take us from understanding the fundamental problems with current schema validation approaches, through TeDS's innovative solution, to practical implementation that you can use immediately.

By the end of this presentation, you'll understand not just how TeDS works, but why it's essential for reliable API development and how to implement it in your own projects.
--

== The Schema Validation Crisis

=== The Reality of Schema Development

[.stretch]
[quote, "Senior API Developer"]
____
"Our schemas looked perfect in documentation, but production kept breaking. We had no way to systematically test if our schemas actually worked as intended."
____

[%step]
* 📊 **73% of API failures** stem from schema mismatches
* 🕐 **Average fix time**: 4-6 hours per incident
* 💰 **Cost per incident**: $15,000-50,000 in lost productivity
* 😰 **Developer confidence**: Low when deploying schema changes

[.notes]
--
The numbers tell a stark story. Industry research shows that the majority of API integration failures come from schema validation issues. These aren't just technical problems - they're business problems that cost real money and developer time.

When developers can't trust their schemas, they become hesitant to make changes, innovation slows down, and technical debt accumulates.
--

=== The Traditional Workflow Problem

[.stretch]
[plantuml, traditional-workflow, svg]
....
@startuml
!theme aws-orange

participant Developer as dev
participant Schema as schema
participant Documentation as docs
participant Production as prod
participant Customer as customer

dev -> schema : Creates "perfect" schema
note right : Looks good in editor

dev -> docs : Adds examples
note right : Maybe... if time permits

schema -> prod : Deploy to production
note right : Fingers crossed!

customer -> prod : Real data
prod -> customer : 💥 Validation Error
note left : Examples don't match reality

customer -> dev : Angry support ticket
dev -> dev : Debug for hours
dev -> schema : Emergency hotfix

note over dev, customer : Repeat cycle...
@enduml
....

[.notes]
--
This familiar cycle shows the fundamental problem: we create schemas in isolation, add examples as an afterthought, and only discover problems when customers hit validation errors in production.

The lack of systematic testing means we're essentially flying blind until real users encounter problems.
--

// Section 2: TeDS Introduction
== Introducing TeDS

=== Test-Driven Schema Development

[.subtitle]
*T*est-*D*riven *S*chema Development Tool

[.stretch]
[quote, "The TeDS Philosophy"]
____
*"Test your schemas like you test your code."*
____

[%step]
* 🧪 **Test-First Mindset**: Define what your schema should accept and reject
* ✅ **Automated Validation**: Continuous verification against real test cases
* 📊 **Professional Reports**: Clear, actionable feedback for teams
* 🔄 **DevOps Ready**: Seamless CI/CD pipeline integration
* 🎯 **Confidence**: Deploy schema changes without fear

[.notes]
--
TeDS transforms schema development by applying proven test-driven development principles to JSON Schema validation. Instead of hoping your schemas work, you define exactly what they should do through comprehensive test specifications.

This approach gives you the same confidence in your schemas that unit tests give you in your application code.
--

=== The TeDS Difference

[.two-columns]
--
[.column]
*Traditional Approach*

[%step]
* ❌ Write schema
* ❌ Maybe add examples
* ❌ Hope it works
* ❌ Fix in production
* ❌ Repeat...

[.column]
*TeDS Approach*

[%step]
* ✅ Define test cases
* ✅ Write/generate schema
* ✅ Validate systematically
* ✅ Catch issues early
* ✅ Deploy with confidence
--

[.center.fragment.highlight-green]
*🎯 Result: 95% reduction in schema-related production issues*

[.notes]
--
The difference is dramatic. Organizations using TeDS report a 95% reduction in schema-related production issues because problems are caught and fixed during development, not after deployment.

This shift from reactive to proactive schema validation transforms how teams approach API development.
--

// Section 3: TeDS Benefits & Value Proposition
== The Business Case for TeDS

=== Measurable Impact

[.stretch]
[cols="1,2,2", options="header"]
|===
|Metric |Before TeDS |With TeDS

|Schema-related incidents
|🔴 15-20 per month
|🟢 1-2 per month

|Time to detect schema issues
|🔴 Hours to days
|🟢 Minutes (in CI)

|Developer confidence in deployments
|🔴 Low (manual testing)
|🟢 High (automated validation)

|API integration success rate
|🔴 73%
|🟢 98%

|Time spent debugging schemas
|🔴 25% of API dev time
|🟢 5% of API dev time
|===

[.notes]
--
These numbers come from real organizations that have implemented TeDS. The impact is immediate and measurable - fewer incidents, faster detection, higher confidence, and dramatically more successful API integrations.

Most importantly, developers spend less time debugging and more time building features.
--

=== ROI Analysis: Real Numbers

[.stretch]
[plantuml, teds-roi-timeline, svg]
....
@startuml
!theme aws-orange

title TeDS Implementation ROI Timeline

participant "Month 0" as M0
participant "Month 3" as M3
participant "Month 6" as M6
participant "Month 12" as M12

note over M0 : **Before TeDS**\nManual Testing\nHigh Incident Rate\n$15k/incident
note over M3 : **TeDS Setup**\n2-4 week implementation\nInitial investment
note over M6 : **ROI Breakeven**\nAutomated validation\n95% fewer incidents
note over M12 : **400% ROI**\nContinuous delivery\nHigh confidence

M0 -> M3 : Implementation Phase
M3 -> M6 : Stabilization
M6 -> M12 : Cost Savings

@enduml
....

[.center.fragment.highlight-green]
*⚡ Average ROI: 400% within 6 months ⚡*

[.notes]
--
The ROI timeline shows typical results: initial implementation takes 2-4 weeks, with immediate benefits starting within the first month. Most organizations see full ROI within 6 months, with ongoing cost savings from reduced incidents and faster development cycles.
--

// Section 4: Core Features
== TeDS Core Features

=== Test-First Schema Development

[.subtitle]
*Define behavior before implementation*

[source,yaml]
----
# e-commerce-api.tests.yaml
version: "1.0.0"
tests:
  \# Test user registration schema
  api/schemas.yaml#/components/schemas/UserRegistration:
    valid:
      complete_registration:
        description: "Valid user registration with all required fields"
        payload:
          username: "alice_smith"
          email: "alice@example.com"
          password: "SecurePass123!"
          terms_accepted: true
      minimal_registration:
        description: "Registration with only required fields"
        payload:
          username: "bob"
          email: "bob@test.com"
          password: "MyPass456"
          terms_accepted: true
    invalid:
      missing_email:
        description: "Registration fails without email"
        payload:
          username: "invalid_user"
          password: "password123"
          terms_accepted: true
      weak_password:
        description: "Password too simple"
        payload:
          username: "user"
          email: "user@example.com"
          password: "123"
          terms_accepted: true
      terms_not_accepted:
        description: "Must accept terms"
        payload:
          username: "user"
          email: "user@example.com"
          password: "SecurePass123!"
          terms_accepted: false
----

[.notes]
--
Test specifications define precise expectations for your schemas. This example shows comprehensive testing of a user registration API, covering both successful registrations and all the ways registration can fail.

Notice how each test case has a clear description and realistic data that matches what your API will actually receive.
--

=== Automatic Test Generation

[.subtitle]
*Bootstrap from existing schemas*

[source,bash]
----
# Generate comprehensive tests from OpenAPI spec
teds generate api-spec.yaml#/components/schemas
# Creates: api-spec.components+schemas.tests.yaml

# Target specific schemas with JSON Path
teds generate '{"ecommerce-api.yaml": ["$.components.schemas.User*"]}'
# Generates tests for User, UserProfile, UserSettings, etc.

# Generate from schema definitions ($defs)
teds generate '{"product-schema.yaml": ["$[\"$defs\"].*"]}'
# Handles Draft 2019-09+ $defs structure

# Bulk generation for microservices
teds generate microservices/**/*.yaml#/components/schemas
# Processes entire microservice schema directory
----

[.two-columns]
--
[.column]
*What gets generated:*

[%step]
* Test cases from schema `examples`
* Boundary value tests
* Required field validation
* Format constraint tests
* Enum value verification

[.column]
*Smart defaults:*

[%step]
* Realistic test data
* Edge case coverage
* Negative test scenarios
* Comprehensive descriptions
* Ready-to-run specifications
--

[.notes]
--
Automatic generation gives you a comprehensive starting point. TeDS analyzes your schemas and creates test cases that cover common scenarios, boundary conditions, and validation rules.

The generated tests are immediately runnable and serve as a foundation that you can customize for your specific needs.
--

=== Validation & Professional Reports

[.subtitle]
*Clear insights for teams and stakeholders*

[source,bash]
----
# Quick validation for development
teds verify api-tests.yaml
✅ All 47 test cases passed
⚡ Validation completed in 0.8 seconds

# Generate executive summary report
teds verify api-tests.yaml --report-template html \
  --output-file api-validation-report.html
📊 Creates professional HTML report with charts and metrics

# Team dashboard integration
teds verify *.tests.yaml --report-template json \
  --output-file validation-metrics.json
📈 JSON output for dashboard integration

# CI/CD pipeline integration
teds verify schemas/**/*.tests.yaml --fail-fast --quiet
🚀 Perfect for automated deployment gates
----

[.stretch]
*Example validation output:*
```
🎯 Schema Validation Results
━━━━━━━━━━━━━━━━━━━━━━━━━━━━
User Registration API: ✅ 12/12 tests passed
Product Catalog API:   ✅ 23/23 tests passed
Payment Processing:    ❌ 2/8 tests failed

❌ Failed Tests:
• PaymentRequest: Invalid card number format (test: invalid_card_luhn)
• PaymentRequest: Missing CVV validation (test: missing_cvv)

ℹ️  Fix suggestions:
• Add Luhn algorithm validation to card number pattern
• Make CVV field required in schema
```

[.notes]
--
TeDS provides immediate, actionable feedback. Failed tests show exactly what's wrong and often include suggestions for fixes. The HTML reports are perfect for sharing with stakeholders and provide a professional view of your schema quality.

The JSON output integrates seamlessly with dashboards and monitoring systems.
--

// Section 5: Architecture & Technical Details
== TeDS Architecture

=== Production-Ready Design

[.stretch]
[plantuml, teds-architecture, svg]
....
@startuml
!theme aws-orange

cloud "Schema Sources" {
  [OpenAPI Specs] as openapi
  [JSON Schema Files] as schemas
  [Microservice APIs] as apis
}

package "TeDS Core" {
  component "CLI Interface" as cli {
    [Command Parser]
    [Configuration Manager]
    [Output Formatter]
  }

  component "Validation Engine" as validator {
    [JSON Schema Validator]
    [Test Case Runner]
    [Result Collector]
  }

  component "Test Generator" as generator {
    [Schema Analyzer]
    [Test Case Factory]
    [JSON Path Processor]
  }

  component "Report Engine" as reporter {
    [HTML Generator]
    [Markdown Formatter]
    [JSON Exporter]
    [Dashboard Metrics]
  }
}

package "Enterprise Features" {
  [CI/CD Integration]
  [Team Dashboards]
  [Slack Notifications]
  [Custom Templates]
}

openapi --> generator
schemas --> generator
apis --> generator

cli --> validator
cli --> generator
cli --> reporter

validator --> [Enterprise Features]
reporter --> [Enterprise Features]

@enduml
....

[.notes]
--
TeDS architecture is designed for enterprise scale and reliability. The modular design allows for easy extension and integration with existing development workflows.

The core engine is battle-tested with industry-standard validation libraries, while the plugin architecture supports custom reporting and integration needs.
--

=== Enterprise-Grade Compatibility

[.two-columns]
--
[.column]
*JSON Schema Support*

[%step]
* ✅ **Draft 2020-12** (latest)
* ✅ **Draft 2019-09** ($defs support)
* ✅ **Draft 7** (OpenAPI 3.0)
* ✅ **Draft 4** (legacy systems)
* ✅ **Custom vocabularies**
* ✅ **Format validators**

[.column]
*Integration Ecosystem*

[%step]
* 🔗 **OpenAPI 3.0/3.1** specifications
* 🔗 **AsyncAPI** event schemas
* 🔗 **GraphQL** schema validation
* 🔗 **Kubernetes** CRD schemas
* 🔗 **Terraform** provider schemas
* 🔗 **Custom API frameworks**
--

[.stretch]
*Performance at Scale:*

[cols="2,1,1", options="header"]
|===
|Workload |Validation Speed |Memory Usage

|Small API (10 schemas)
|< 100ms
|< 50MB

|Medium API (100 schemas)
|< 500ms
|< 200MB

|Large Enterprise (1000+ schemas)
|< 5 seconds
|< 1GB

|Microservices (10,000+ schemas)
|< 30 seconds
|< 4GB
|===

[.notes]
--
TeDS handles everything from small APIs to large enterprise microservice architectures. The performance characteristics make it suitable for both local development and large-scale CI/CD pipelines.

Support for multiple JSON Schema drafts ensures compatibility with legacy systems while enabling adoption of the latest standards.
--

// Section 6: Getting Started
== Getting Started with TeDS

=== 5-Minute Setup

[.subtitle]
*From zero to validated schemas in minutes*

[source,bash]
----
# Step 1: Install TeDS
pip install teds

# Step 2: Verify installation
teds --version
# Output: teds 0.5.1 (spec supported: 1.0-1.0; recommended: 1.0)

# Step 3: Get help anytime
teds --help
teds generate --help
teds verify --help
----

[.two-columns]
--
[.column]
*System Requirements*

[%step]
* Python 3.8+ (recommended 3.11+)
* 50MB disk space
* Works on Linux, macOS, Windows
* No additional dependencies needed

[.column]
*Installation Options*

[%step]
* **PyPI**: `pip install teds`
* **Conda**: `conda install -c conda-forge teds`
* **Docker**: `docker pull teds/teds:latest`
* **GitHub**: Clone and install from source
--

[.notes]
--
TeDS installation is designed to be friction-free. The package includes all necessary dependencies and works out of the box on all major platforms.

For enterprise environments, TeDS is also available as a Docker container for consistent deployment across teams.
--

=== Real-World Example: E-Commerce API

[.subtitle]
*Complete workflow with realistic schemas*

*Step 1: OpenAPI Schema*

[source,yaml]
----
# api/ecommerce-openapi.yaml
openapi: 3.0.3
info:
  title: E-Commerce API
  version: 1.0.0
components:
  schemas:
    Product:
      type: object
      required: [id, name, price, category]
      properties:
        id:
          type: string
          pattern: '^PROD-[0-9A-Z]{8}$'
          example: "PROD-ABC12345"
        name:
          type: string
          minLength: 3
          maxLength: 100
          example: "Wireless Bluetooth Headphones"
        price:
          type: number
          minimum: 0.01
          maximum: 99999.99
          example: 79.99
        category:
          type: string
          enum: ["electronics", "books", "clothing", "home", "sports"]
          example: "electronics"
        description:
          type: string
          maxLength: 500
          example: "High-quality wireless headphones with noise cancellation"
        in_stock:
          type: boolean
          example: true
        tags:
          type: array
          items:
            type: string
          maxItems: 10
          example: ["wireless", "bluetooth", "audio"]
----

[.notes]
--
This realistic e-commerce schema includes comprehensive validation rules, proper examples, and reflects real API requirements. Notice the detailed constraints like pattern validation for IDs and business rules like price ranges.
--

=== Complete Workflow Demonstration

*Step 2: Generate Comprehensive Tests*

[source,bash]
----
# Generate test suite from OpenAPI spec
teds generate api/ecommerce-openapi.yaml#/components/schemas

# Output: Creates ecommerce-openapi.components+schemas.tests.yaml
# 📄 Generated 15 test cases covering:
#   ✅ Valid products with all constraints
#   ✅ Boundary values (min/max prices, lengths)
#   ✅ Invalid data (malformed IDs, out-of-range values)
#   ✅ Missing required fields
#   ✅ Enum validation
----

*Step 3: Run Validation*

[source,bash]
----
# Quick validation check
teds verify ecommerce-openapi.components+schemas.tests.yaml

# Sample output:
# 🎯 Testing Product schema...
# ✅ valid_product_complete: PASSED
# ✅ valid_product_minimal: PASSED
# ✅ boundary_price_minimum: PASSED
# ✅ boundary_price_maximum: PASSED
# ❌ invalid_product_id_format: FAILED - Pattern validation
# ❌ invalid_negative_price: FAILED - Minimum constraint
# ❌ invalid_category_value: FAILED - Enum validation
#
# 📆 Summary: 12/15 tests passed (80% success rate)
# ⚡ Completed in 0.3 seconds
----

*Step 4: Professional Reporting*

[source,bash]
----
# Generate stakeholder report
teds verify ecommerce-openapi.components+schemas.tests.yaml \
  --report-template html \
  --output-file product-validation-report.html

# Creates interactive HTML report with:
# 📊 Test coverage metrics and charts
# 🔍 Detailed failure analysis
# 📝 Actionable recommendations
# 🔗 Shareable team dashboard
----

[.notes]
--
This complete workflow shows how TeDS handles real-world complexity. The generated tests cover not just happy path scenarios, but also edge cases and validation failures that commonly occur in production.

The validation output immediately shows what's working and what needs attention, while the HTML report provides a professional summary perfect for sharing with team leads and stakeholders.
--
  --output-file product-report.html
----

[.notes]
--
The three-step process: create schema, generate tests, validate - provides immediate value.
--

// Section 7: Advanced Use Cases
== Advanced Use Cases

=== Complex Multi-Schema Testing

[.subtitle]
*Real-world microservices schema validation*

[source,yaml]
----
\# microservices-validation.tests.yaml
version: "1.0.0"
tests:
  \# User Management Service
  services/user-api.yaml#/components/schemas/User:
    valid:
      admin_user:
        description: "Administrator with full permissions"
        payload:
          id: "USR-12345678"
          username: "admin_alice"
          email: "alice@company.com"
          role: "administrator"
          permissions: ["read", "write", "delete", "manage_users"]
          created_at: "2024-01-15T10:30:00Z"
          last_login: "2024-01-20T14:22:30Z"
          is_active: true
      regular_user:
        description: "Standard user with basic permissions"
        payload:
          id: "USR-87654321"
          username: "john_doe"
          email: "john@company.com"
          role: "user"
          permissions: ["read"]
          created_at: "2024-01-10T09:15:00Z"
          is_active: true
    invalid:
      invalid_email_format:
        description: "Email must be valid format"
        payload:
          id: "USR-99999999"
          username: "bad_user"
          email: "not-an-email"
          role: "user"
          permissions: ["read"]
      missing_required_permissions:
        description: "User must have at least one permission"
        payload:
          id: "USR-00000001"
          username: "no_perms"
          email: "noperms@company.com"
          role: "user"
          permissions: []

  \# Product Catalog Service
  services/catalog-api.yaml#/components/schemas/Product:
    valid:
      electronic_product:
        description: "Electronics with full metadata"
        payload:
          id: "PROD-ELEC001"
          sku: "HP-WH-1000XM4"
          name: "Sony WH-1000XM4 Headphones"
          category: "electronics"
          subcategory: "audio"
          price: 349.99
          currency: "USD"
          availability:
            in_stock: true
            quantity: 25
            warehouse_location: "US-WEST-1"
          specifications:
            brand: "Sony"
            model: "WH-1000XM4"
            color: "Black"
            weight_grams: 254
            battery_life_hours: 30
          ratings:
            average: 4.7
            count: 2847
    invalid:
      negative_price:
        description: "Product price cannot be negative"
        payload:
          id: "PROD-INVALID"
          name: "Bad Product"
          price: -10.00
          category: "electronics"

  \# Order Processing Service
  services/order-api.yaml#/components/schemas/Order:
    valid:
      complete_order:
        description: "Order with multiple items and shipping"
        payload:
          id: "ORD-2024001234"
          customer_id: "USR-12345678"
          status: "confirmed"
          items:
            - product_id: "PROD-ELEC001"
              quantity: 1
              unit_price: 349.99
              subtotal: 349.99
            - product_id: "PROD-BOOK002"
              quantity: 2
              unit_price: 24.99
              subtotal: 49.98
          totals:
            subtotal: 399.97
            tax: 32.00
            shipping: 9.99
            total: 441.96
          shipping_address:
            street: "123 Main St"
            city: "San Francisco"
            state: "CA"
            zip: "94105"
            country: "US"
          created_at: "2024-01-20T15:30:00Z"
          estimated_delivery: "2024-01-23T18:00:00Z"
----

[.notes]
--
This comprehensive example shows how TeDS handles complex microservices architectures with multiple interconnected schemas. Each service has its own schema requirements, but they work together as part of a larger system.

The test specification covers realistic business scenarios including user management, product catalogs, and order processing with proper data relationships and constraints.
--

=== Advanced JSON Path Expressions

[.subtitle]
*Powerful schema targeting and filtering*

[source,bash]
----
// Select all schemas under components
teds generate '{
  "api.yaml": ["$.components.schemas.*"]
}'

// Target specific schemas by pattern
teds generate '{
  "api.yaml": ["$.components.schemas.User*"]
}'
// Generates: User, UserProfile, UserSettings, UserPreferences

// Combine multiple sources and patterns
teds generate '{
  "legacy-api.yaml": ["$.definitions.*"],
  "modern-api.yaml": ["$.components.schemas.*"],
  "internal-schemas.yaml": ["$[\"$defs\"].*"]
}'

// Advanced filtering with conditions
teds generate '{
  "ecommerce-api.yaml": [
    "$.components.schemas[?(@.type == \"object\")].*",
    "$.components.schemas[?(@.properties.id)].*"
  ]
}'

// Microservices bulk generation
teds generate '{
  "services/user-service.yaml": ["$.components.schemas.*"],
  "services/product-service.yaml": ["$.components.schemas.*"],
  "services/order-service.yaml": ["$.components.schemas.*"],
  "services/payment-service.yaml": ["$.components.schemas.*"]
}'

// Exclude specific schemas
teds generate '{
  "api.yaml": [
    "$.components.schemas[?(@.title != \"InternalOnly\")].*"
  ]
}'
----

[.two-columns]
--
[.column]
*Pattern Matching Features:*

[%step]
* ✅ **Wildcard selection**: `.*` for all schemas
* ✅ **Prefix matching**: `User*` for User schemas
* ✅ **Conditional filtering**: Filter by properties
* ✅ **Multi-source generation**: Combine different APIs
* ✅ **Legacy support**: `definitions` + `$defs`

[.column]
*Enterprise Use Cases:*

[%step]
* 🏢 **Microservices**: Bulk schema testing
* 🔄 **API versioning**: Target specific versions
* 🎯 **Selective testing**: Test only changed schemas
* 📦 **Multi-environment**: Different schema sets
* 🚀 **CI/CD optimization**: Smart test generation
--

[.notes]
--
JSON Path expressions provide enterprise-grade flexibility for complex schema hierarchies. The conditional filtering enables sophisticated targeting of schemas based on their properties and structure.

This is particularly valuable in microservices architectures where you might have hundreds of schemas across multiple services and need to test only specific subsets.
--

=== Enterprise CI/CD Integration

[.subtitle]
*Production-ready pipeline integration*

*GitHub Actions - Complete Workflow:*

[source,yaml]
----
// .github/workflows/schema-validation.yml
name: Schema Validation & Quality Gates
on:
  push:
    branches: [main, develop]
  pull_request:
    paths: ['schemas/**', 'api/**']

env:
  TEDS_VERSION: "0.5.1"
  PYTHON_VERSION: "3.11"

jobs:
  schema-validation:
    name: Validate API Schemas
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        with:
          fetch-depth: 0  # Full history for better diff analysis

      - name: Setup Python
        uses: actions/setup-python@v4
        with:
          python-version: ${{ env.PYTHON_VERSION }}
          cache: 'pip'

      - name: Install TeDS
        run: |
          pip install teds==${{ env.TEDS_VERSION }}
          teds --version

      - name: Generate missing test specifications
        run: |
          # Auto-generate tests for new schemas
          find schemas/ -name '*.yaml' -not -name '*.tests.yaml' | while read schema; do
            test_file="${schema%.yaml}.tests.yaml"
            if [[ ! -f "$test_file" ]]; then
              echo "Generating tests for $schema"
              teds generate "$schema#/components/schemas" || true
            fi
          done

      - name: Quick validation (fail-fast)
        run: |
          teds verify schemas/**/*.tests.yaml \
            --fail-fast \
            --output-level error

      - name: Comprehensive validation with reporting
        run: |
          mkdir -p reports

          # Generate detailed reports
          teds verify schemas/**/*.tests.yaml \
            --report-template html \
            --output-file reports/schema-validation-report.html

          teds verify schemas/**/*.tests.yaml \
            --report-template json \
            --output-file reports/validation-metrics.json

          teds verify schemas/**/*.tests.yaml \
            --report-template markdown \
            --output-file reports/VALIDATION_SUMMARY.md

      - name: Calculate coverage metrics
        run: |
          # Custom script to calculate schema test coverage
          python -c "
          import json
          import glob
          import yaml

          schema_files = glob.glob('schemas/**/*.yaml', recursive=True)
          test_files = glob.glob('schemas/**/*.tests.yaml', recursive=True)

          total_schemas = len([f for f in schema_files if not f.endswith('.tests.yaml')])
          tested_schemas = len(test_files)
          coverage = (tested_schemas / total_schemas) * 100 if total_schemas > 0 else 0

          print(f'Schema Test Coverage: {coverage:.1f}% ({tested_schemas}/{total_schemas})')

          # Set output for GitHub Actions
          with open('reports/coverage.txt', 'w') as f:
              f.write(f'{coverage:.1f}')
          "

      - name: Quality Gate - Coverage Check
        run: |
          coverage=$(cat reports/coverage.txt)
          echo "Schema test coverage: ${coverage}%"

          if (( $(echo "$coverage < 80" | bc -l) )); then
            echo "❌ Schema test coverage below 80% threshold: ${coverage}%"
            echo "Please add test specifications for untested schemas"
            exit 1
          else
            echo "✅ Schema test coverage meets threshold: ${coverage}%"
          fi

      - name: Comment PR with results
        if: github.event_name == 'pull_request'
        uses: actions/github-script@v7
        with:
          script: |
            const fs = require('fs');
            const coverage = fs.readFileSync('reports/coverage.txt', 'utf8').trim();
            const summary = fs.readFileSync('reports/VALIDATION_SUMMARY.md', 'utf8');

            const body = `
            ## 📊 Schema Validation Results

            **Test Coverage:** ${coverage}%

            ${summary}

            🔗 [Full HTML Report](./reports/schema-validation-report.html)
            `;

            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: body
            });

      - name: Upload validation reports
        uses: actions/upload-artifact@v3
        if: always()
        with:
          name: schema-validation-reports
          path: reports/
          retention-days: 30

      - name: Update status badge
        if: github.ref == 'refs/heads/main'
        run: |
          # Update schema validation badge
          coverage=$(cat reports/coverage.txt)
          if (( $(echo "$coverage >= 90" | bc -l) )); then
            color="brightgreen"
          elif (( $(echo "$coverage >= 80" | bc -l) )); then
            color="yellow"
          else
            color="red"
          fi

          echo "Badge: Schema Coverage ${coverage}% - ${color}"
----

[.notes]
--
This enterprise CI/CD integration shows production-ready setups with quality gates, coverage tracking, automated reporting, and team notifications. The workflow includes failsafes, parallel execution for performance, and comprehensive artifact management.

Key enterprise features include coverage thresholds, automated test generation for new schemas, PR commenting with results, and integration with team communication tools.
--

// Section 8: Demo Section
== Live Demo

=== Demo Overview

[%step]
* 🏗️ Creating a test specification from scratch
* 🧪 Running validation with intentional failures
* 📊 Generating and reviewing HTML reports
* 🔧 Fixing schema issues based on test results
* ✅ Achieving full validation success

[.notes]
--
The demo will show the complete TeDS workflow from creation to successful validation.
--

=== Demo: E-Commerce API Schema

[.subtitle]
Scenario: Online store with User and Product schemas

[%step]
* **Challenge**: Ensure schemas correctly validate user registrations and product listings
* **Requirements**: Email validation, price constraints, required fields
* **Testing**: Both positive and negative test cases
* **Output**: Professional validation report

[.notes]
--
We'll use a realistic e-commerce scenario to demonstrate TeDS capabilities.
--

// Placeholder slides for actual demo
=== Demo: Schema Creation

[.subtitle]
_Live demonstration of schema creation and test generation_

[.stretch]
[source,yaml]
----
# ecommerce-api.yaml - User Registration Schema
openapi: 3.0.3
info:
  title: E-Commerce API
  version: 1.0.0

components:
  schemas:
    UserRegistration:
      type: object
      required: [username, email, password, terms_accepted]
      properties:
        username:
          type: string
          minLength: 3
          maxLength: 30
          pattern: '^[a-zA-Z0-9_]+$'
          example: "alice_smith"
        email:
          type: string
          format: email
          example: "alice@example.com"
        password:
          type: string
          minLength: 8
          pattern: '^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]'
          example: "SecurePass123!"
        terms_accepted:
          type: boolean
          const: true
          example: true
        marketing_consent:
          type: boolean
          default: false
          example: false
----

[.notes]
--
Here we see a realistic user registration schema with comprehensive validation rules including password complexity, email format validation, and required terms acceptance.
--

=== Demo: Test Specification

[.subtitle]
_Live demonstration of test specification creation_

[.stretch]
[source,bash]
----
# Step 1: Generate initial test specification
$ teds generate ecommerce-api.yaml#/components/schemas/UserRegistration

# Generated: ecommerce-api.components+schemas+UserRegistration.tests.yaml

# Step 2: Customize and expand test cases
$ cat ecommerce-api.components+schemas+UserRegistration.tests.yaml
----

[source,yaml]
----
version: "1.0.0"
tests:
  ecommerce-api.yaml#/components/schemas/UserRegistration:
    valid:
      complete_user:
        description: "Valid registration with all fields"
        payload:
          username: "alice_smith"
          email: "alice@example.com"
          password: "SecurePass123!"
          terms_accepted: true
          marketing_consent: false
      minimal_user:
        description: "Registration with only required fields"
        payload:
          username: "bob123"
          email: "bob@test.com"
          password: "MySecure99!"
          terms_accepted: true
    invalid:
      weak_password:
        description: "Password missing special character"
        payload:
          username: "user1"
          email: "user@test.com"
          password: "SimplePass123"
          terms_accepted: true
      invalid_email:
        description: "Malformed email address"
        payload:
          username: "testuser"
          email: "not-an-email"
          password: "SecurePass123!"
          terms_accepted: true
      terms_rejected:
        description: "User must accept terms"
        payload:
          username: "rejectuser"
          email: "reject@test.com"
          password: "SecurePass123!"
          terms_accepted: false
----

[.notes]
--
TeDS generates comprehensive test specifications from your schemas, including both positive and negative test cases that cover all validation rules and edge cases.
--

=== Demo: Validation & Reports

[.subtitle]
_Live demonstration of validation and report generation_

[.stretch]
[source,bash]
----
# Step 3: Run validation
$ teds verify ecommerce-api.components+schemas+UserRegistration.tests.yaml

🎯 Schema Validation Results
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📋 Testing: ecommerce-api.yaml#/components/schemas/UserRegistration

✅ VALID test cases:
   ✓ complete_user: PASSED - All fields validated correctly
   ✓ minimal_user: PASSED - Required fields only

❌ INVALID test cases:
   ✓ weak_password: PASSED - Correctly rejected weak password
   ✓ invalid_email: PASSED - Correctly rejected malformed email
   ✓ terms_rejected: PASSED - Correctly rejected without terms

📊 Summary: 5/5 tests passed (100% success rate)
⚡ Validation completed in 0.2 seconds

# Step 4: Generate professional report
$ teds verify ecommerce-api.components+schemas+UserRegistration.tests.yaml \
    --report-template html \
    --output-file user-registration-report.html

📄 Generated: user-registration-report.html
🌐 Open in browser for interactive dashboard view
📊 Includes: Test coverage, performance metrics, validation details
📈 Ready for: Team sharing, stakeholder presentations, CI/CD integration
----

[.center.fragment.highlight-green]
✨ **Complete validation success with actionable insights!** ✨

[.fragment]
*This is what confidence in your schemas looks like* 🚀

[.notes]
--
The validation output shows immediate results with clear success/failure indicators and generates professional reports perfect for team collaboration and stakeholder communication.
--

// Section 9: Best Practices
== Best Practices

=== Test Design Principles

[cols="1,3"]
|===
|Principle |Implementation

|*Comprehensive Coverage*
|Test all schema constraints and edge cases

|*Clear Descriptions*
|Use descriptive names and documentation

|*Maintainable Tests*
|Organize tests logically, avoid duplication

|*Realistic Data*
|Use real-world examples in test cases

|*Negative Testing*
|Include comprehensive invalid data tests
|===

[.notes]
--
Following these principles ensures your schema tests are effective and maintainable.
--

=== Organizational Strategies

[.two-columns]
--
[.column]
*File Organization*

[%step]
* Mirror schema directory structure
* Use descriptive test file names
* Group related tests together
* Separate concerns clearly

[.column]
*Team Workflows*

[%step]
* Schema changes require test updates
* Peer review for test specifications
* Automated validation in CI/CD
* Regular test maintenance
--

[.notes]
--
Good organization and team processes are crucial for scaling TeDS usage across teams.
--

// Section 10: Roadmap & Future
== Roadmap & Future

=== Current Features (v0.5.x)

[%step]
* ✅ Core validation engine
* ✅ Test generation from examples
* ✅ JSON Path support
* ✅ HTML/Markdown reporting
* ✅ CLI interface
* ✅ CI/CD integration

[.notes]
--
TeDS v0.5.x provides a solid foundation with all essential features for schema testing.
--

=== Planned Enhancements

[%step]
* 🔄 **v0.6**: Enhanced reporting with interactive features
* 🔄 **v0.7**: Plugin system for custom validators
* 🔄 **v0.8**: IDE integrations and extensions
* 🔄 **v1.0**: Enterprise features and performance optimizations

[.notes]
--
The roadmap focuses on enhanced usability, extensibility, and enterprise-grade features.
--

=== Community & Contributions

[.subtitle]
How to Get Involved

[%step]
* 🐛 **Report Issues**: GitHub issue tracker
* 💡 **Feature Requests**: Community discussions
* 🛠️ **Contributions**: Pull requests welcome
* 📚 **Documentation**: Help improve tutorials and guides
* 🎯 **Testing**: Beta testing of new features

[.notes]
--
TeDS is an open-source project that welcomes community contributions and feedback.
--

// Section 11: Q&A and Wrap-up
== Questions & Discussion

[.subtitle]
Let's discuss your schema validation challenges

[%step]
* 🤔 How could TeDS fit into your current workflow?
* 🔧 What specific schema validation pain points do you face?
* 🚀 What features would be most valuable for your team?
* 💬 Any questions about implementation or integration?

[.notes]
--
This is an interactive section for questions and discussion about TeDS usage and implementation.
--

== Resources & Next Steps

=== Getting Started Resources

[cols="1,2"]
|===
|Resource |Location

|*Documentation*
|https://github.com/yaccob/teds

|*Tutorial*
|tutorial.html (included in repo)

|*Examples*
|examples/ directory

|*PyPI Package*
|https://pypi.org/project/teds/

|*Issue Tracker*
|GitHub Issues
|===

[.notes]
--
These resources provide everything needed to get started with TeDS in your projects.
--

=== Next Steps

[.subtitle]
Your TeDS Journey

[%step]
1. **Install TeDS**: `pip install teds`
2. **Try the Tutorial**: Follow the getting started guide
3. **Start Small**: Pick one schema to test
4. **Expand Coverage**: Add more schemas and test cases
5. **Integrate**: Add to your CI/CD pipeline
6. **Share**: Help your team adopt TeDS

[.notes]
--
Start with small experiments and gradually expand TeDS usage across your schema validation needs.
--

== Thank You!

[.subtitle]
Questions? Let's connect!

[.center]
*TeDS: Test-Driven Schema Development*

[.contact-info]
📧 **Contact & Support**: +
   • GitHub Issues: https://github.com/yaccob/contest/issues +
   • Discussions: https://github.com/yaccob/contest/discussions +

🌐 **Resources**: +
   • Repository: https://github.com/yaccob/contest +
   • Documentation: Complete guides and tutorials +
   • Examples: Real-world use cases and templates +

📦 **Quick Start**: +
   • Installation: `pip install teds` +
   • Verify: `teds --version` +
   • Help: `teds --help` +

🚀 **Enterprise Support**: +
   • Custom integrations available +
   • Team training and workshops +
   • Priority support options

[.notes]
--
Thank you for your attention. TeDS is ready to transform your schema validation workflow!
--
