$schema: "https://json-schema.org/draft/2020-12/schema"
title: "Logistics and Shipping Schema"
type: object
examples:
  - shipments:
      - shipment_id: "550e8400-e29b-41d4-a716-446655440001"
        tracking_number: "1Z999AA1012345675"
        origin:
          address:
            street: "123 Warehouse Drive"
            city: "Los Angeles"
            state: "California"
            postal_code: "90210"
            country: "United States"
          coordinates:
            latitude: 34.0522
            longitude: -118.2437
        destination:
          address:
            street: "456 Customer Way"
            city: "New York"
            state: "New York"
            postal_code: "10001"
            country: "United States"
          coordinates:
            latitude: 40.7128
            longitude: -74.0060
        packages:
          - package_id: "550e8400-e29b-41d4-a716-446655440010"
            weight:
              value: 5.2
              unit: "kg"
            dimensions:
              length: 30.0
              width: 20.0
              height: 15.0
              unit: "cm"
            contents:
              - item_id: "LAPTOP-001"
                description: "Dell XPS 13 Laptop"
                quantity: 1
                unit_value:
                  amount: 1200.00
                  currency: "USD"
            value:
              amount: 1200.00
              currency: "USD"
            fragile: true
            hazardous: false
        carrier: "UPS"
        service_type: "express"
        status: "in_transit"
        estimated_delivery: "2024-10-03T17:00:00Z"
        cost:
          amount: 25.99
          currency: "USD"
    vehicles:
      - vehicle_id: "550e8400-e29b-41d4-a716-446655440020"
        license_plate: "LOG-123"
        vehicle_type: "truck"
        capacity:
          value: 3500.0
          unit: "kg"
        current_location:
          address:
            street: "Interstate 40"
            city: "Amarillo"
            state: "Texas"
            postal_code: "79101"
            country: "United States"
          coordinates:
            latitude: 35.2220
            longitude: -101.8313
        driver_id: "550e8400-e29b-41d4-a716-446655440030"
        status: "in_transit"
    warehouses:
      - warehouse_id: "550e8400-e29b-41d4-a716-446655440040"
        name: "West Coast Distribution Center"
        address:
          street: "123 Warehouse Drive"
          city: "Los Angeles"
          state: "California"
          postal_code: "90210"
          country: "United States"
        type: "distribution"
        capacity_cubic_meters: 10000.0
        current_utilization: 7500.0
        operating_hours:
          monday: "06:00-22:00"
          tuesday: "06:00-22:00"
          wednesday: "06:00-22:00"
          thursday: "06:00-22:00"
          friday: "06:00-22:00"
          saturday: "08:00-18:00"
          sunday: "closed"
        contact:
          phone: "+13105551234"
          email: "warehouse.la@logistics.com"
        climate_controlled: true
properties:
  shipments:
    type: array
    items:
      $ref: "#/$defs/Shipment"
  vehicles:
    type: array
    items:
      $ref: "#/$defs/Vehicle"
  warehouses:
    type: array
    items:
      $ref: "../ecommerce_platform/ecommerce.yaml#/$defs/WarehouseLocation"
$defs:
  Shipment:
    type: object
    properties:
      shipment_id:
        type: string
        format: uuid
      tracking_number:
        type: string
        pattern: "^[A-Z0-9]{10,15}$"
      origin:
        $ref: "#/$defs/Location"
      destination:
        $ref: "#/$defs/Location"
      packages:
        type: array
        items:
          $ref: "#/$defs/Package"
        minItems: 1
      carrier:
        type: string
        enum: ["UPS", "FedEx", "DHL", "USPS"]
      service_type:
        type: string
        enum: ["standard", "express", "overnight", "same_day"]
      status:
        type: string
        enum: ["pending", "picked_up", "in_transit", "out_for_delivery", "delivered", "exception"]
      estimated_delivery:
        type: string
        format: date-time
      actual_delivery:
        type: string
        format: date-time
      cost:
        $ref: "../ecommerce_platform/ecommerce.yaml#/$defs/Money"
    required: ["shipment_id", "tracking_number", "origin", "destination", "packages", "carrier"]
  Package:
    type: object
    properties:
      package_id:
        type: string
        format: uuid
      weight:
        $ref: "../ecommerce_platform/ecommerce.yaml#/$defs/Weight"
      dimensions:
        $ref: "../ecommerce_platform/ecommerce.yaml#/$defs/Dimensions"
      contents:
        type: array
        items:
          $ref: "#/$defs/PackageItem"
      value:
        $ref: "../ecommerce_platform/ecommerce.yaml#/$defs/Money"
      fragile:
        type: boolean
        default: false
      hazardous:
        type: boolean
        default: false
    required: ["package_id", "weight", "dimensions", "contents"]
  PackageItem:
    type: object
    properties:
      item_id:
        type: string
      description:
        type: string
      quantity:
        type: integer
        minimum: 1
      unit_value:
        $ref: "../ecommerce_platform/ecommerce.yaml#/$defs/Money"
    required: ["item_id", "description", "quantity"]
  Vehicle:
    type: object
    properties:
      vehicle_id:
        type: string
        format: uuid
      license_plate:
        type: string
      vehicle_type:
        type: string
        enum: ["van", "truck", "semi", "cargo_plane", "ship"]
      capacity:
        $ref: "../ecommerce_platform/ecommerce.yaml#/$defs/Weight"
      current_location:
        $ref: "#/$defs/Location"
      driver_id:
        type: string
        format: uuid
      status:
        type: string
        enum: ["available", "in_transit", "loading", "maintenance"]
    required: ["vehicle_id", "license_plate", "vehicle_type", "capacity"]
  Location:
    type: object
    properties:
      address:
        $ref: "../ecommerce_platform/ecommerce.yaml#/$defs/Address"
      coordinates:
        type: object
        properties:
          latitude:
            type: number
            minimum: -90
            maximum: 90
          longitude:
            type: number
            minimum: -180
            maximum: 180
        required: ["latitude", "longitude"]
    required: ["address"]
